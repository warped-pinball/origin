    <!doctype html>
    <html data-theme='dark'>
        <head>
            <meta charset='utf-8'>
            <meta name='viewport' content='width=device-width,initial-scale=1'>
            <title>Origin</title>
            <link rel='stylesheet' href='https://unpkg.com/@picocss/pico@1.*/css/pico.min.css'>
            <link rel='stylesheet' href='https://fonts.googleapis.com/icon?family=Material+Icons'>
            <link rel='manifest' href='/static/manifest.json'>
            <style>
                .error { color: red; font-size: small; }
                #install-dialog { top:10vh; }
                .spinner { display:inline-block; width:1em; height:1em; border:2px solid currentColor; border-right-color:transparent; border-radius:50%; animation:spin 0.75s linear infinite; vertical-align:-0.125em; margin-right:0.25em; }
                @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
                #signup-dialog { top:10vh; }
                #signup-dialog h3 { margin:0.5rem 0; }
                button { text-align:center; }
                #navbar { position:fixed;bottom:0;left:0;width:100%;background:var(--pico-surface, #222); display:flex; }
                #navbar button { flex: 1; }
                #account-overlay { position:fixed;left:0;top:0;width:100%;height:100vh;overflow:auto;background:var(--pico-surface,#222);text-align:center;padding-top:2rem;z-index:1000;transform:translateY(-100%);opacity:0;pointer-events:none;transition:transform 0.3s ease,opacity 0.3s ease; }
                #account-overlay.show { transform:translateY(0);opacity:1;pointer-events:auto; }
                #account-avatar { transform: scale(0.5); transition: transform 0.3s; }
                #account-overlay.show #account-avatar { transform: scale(1); }
                #account-close { position:absolute;top:0.5rem;right:0.5rem;background:none;border:1px solid currentColor;border-radius:50%;font-size:1.5rem;color:inherit;cursor:pointer;padding:0.25rem; }
                #account-actions { display:none;margin-bottom:1rem;gap:0.5rem;justify-content:center; }
                #account-actions.visible { display:flex;animation:fadeIn 0.2s ease forwards; }
                @keyframes fadeIn { from { opacity:0;transform:translateY(-0.25rem); } to { opacity:1;transform:translateY(0); } }
                main.container { padding-bottom:4rem; }
            </style>
            <script>window.API_BASE = "{{ api_base }}";</script>
            <script src="/static/api.js"></script>
            <script src="/static/app.js"></script>
        </head>
        <body>
            <main class='container'>
                <h1 id='welcome-title'>Welcome</h1>
                <img id='profile-avatar' src='/static/logo.png' alt='Profile image' style='width:2.5rem;height:2.5rem;border-radius:50%;display:none;margin:0 auto 1rem;cursor:pointer;'>
                <section id='login-section'>
                    <article>
                        <h2>Login</h2>
                        <form onsubmit='login(event)'>
                            <input id='login-email' type='text' placeholder='Email' required />
                            <input id='login-password' type='password' placeholder='Password' required />
                            <p style='font-size:0.9rem;'>Don't have an account?  <a href='#' onclick='openSignup(event)'>Sign Up</a></p>
                            <button type='submit'>Log In</button>
                            <span id='login-error' class='error'></span>
                        </form>
                        
                    </article>
                </section>
                <dialog id='install-dialog'>
                    <article>
                        <h3>Install App</h3>
                        <p>Install this app for a better experience.</p>
                        <footer class='grid'>
                            <button id='install-confirm-btn' onclick='installApp()'>Install</button>
                            <button type='button' onclick='closeInstall()' class='secondary'>Not now</button>
                        </footer>
                    </article>
                </dialog>
                <dialog id='signup-dialog'>
                    <article>
                        <h3>Create Account</h3>
                        <form onsubmit='signup(event)'>
                            <input id='signup-email' type='email' placeholder='Email' required />
                            <span id='signup-email-error' class='error'></span>
                            <input id='signup-screen' type='text' placeholder='Screen name' required />
                            <input id='signup-password' type='password' placeholder='Password' required />
                            <footer class='grid'>
                                <button id='signup-submit' type='submit'>
                                    <span id='signup-spinner' class='spinner' style='display:none'></span>
                                    <span id='signup-btn-text'>Create Account</span>
                                </button>
                                <button type='button' onclick='closeSignup()' class='secondary'>Cancel</button>
                            </footer>
                            <span id='signup-error' class='error'></span>
                        </form>
                    </article>
                </dialog>
                <dialog id='delete-dialog'>
                    <article>
                        <h3>Delete Account</h3>
                        <p>Are you sure you want to delete your account?</p>
                        <footer class='grid'>
                            <button id='confirm-delete-btn' class='contrast'>Delete</button>
                            <button type='button' onclick="document.getElementById('delete-dialog').close()" class='secondary'>Cancel</button>
                        </footer>
                    </article>
                </dialog>
                <dialog id='password-dialog'>
                    <article>
                        <h3>Change Password</h3>
                        <form onsubmit='updatePassword(event)'>
                            <input id='account-password' type='password' placeholder='New password' required />
                            <footer class='grid'>
                                <button type='submit'>Change</button>
                                <button type='button' onclick="document.getElementById('password-dialog').close()" class='secondary'>Cancel</button>
                            </footer>
                        </form>
                    </article>
                </dialog>
                <section id='loggedin-section' style='display:none;'>
                    <div id='navbar' class='button-group' role='group' style='width:100%'>
                            <button data-page='achievements' class='secondary' onclick="showPage('achievements', event)" style='display:flex;flex-direction:column;align-items:center;'>
                                <span class='material-icons'>emoji_events</span>
                                <small>Trophies</small>
                            </button>
                            <button data-page='map' class='secondary' onclick="showPage('map', event)" style='display:flex;flex-direction:column;align-items:center;'>
                                <span class='material-icons'>map</span>
                                <small>Map</small>
                            </button>
                            <button data-page='settings' class='secondary' onclick="showPage('settings', event)" style='display:flex;flex-direction:column;align-items:center;'>
                                <span class='material-icons'>settings</span>
                                <small>Settings</small>
                            </button>
                    </div>
                    <section id='achievements' class='page' style='display:none;'>
                        <h2>Trophies</h2>
                        <p>Coming soon...</p>
                    </section>
                    <section id='map' class='page' style='display:none;'>
                        <h2>Nearby Arcades</h2>
                        <p>Coming soon...</p>
                    </section>
                    <section id='shop' class='page' style='display:none;'>
                        <h2>Shop</h2>
                        <p>Coming soon...</p>
                    </section>
                    <section id='inventory' class='page' style='display:none;'>
                        <h2>Inventory / Avatar Builder</h2>
                        <p>Coming soon...</p>
                    </section>
                    <section id='play' class='page' style='display:none;'>
                        <h2>Play a Game</h2>
                        <p>Coming soon...</p>
                    </section>
                    <section id='settings' class='page' style='display:none;'>
                        <h2>Settings</h2>
                        <h3>Appearance</h3>
                        <label class='switch' style='margin-bottom:1rem;'>
                            <input id='theme-toggle' type='checkbox' role='switch' onchange='toggleTheme()' checked>
                            Dark Mode
                        </label>
                        <h3>Account</h3>
                        <button onclick="document.getElementById('password-dialog').showModal()" style='width:fit-content;margin-bottom:0.5rem;'>Change Password</button>
                        <div class='grid' style='grid-template-columns:1fr 1fr;gap:0.5rem;margin-bottom:0.5rem;'>
                            <button onclick='logout()' aria-label='Logout' class='secondary outline' style='display:flex;align-items:center;gap:0.25rem;'>
                                <span class='material-icons'>logout</span><span>Logout</span>
                            </button>
                            <button onclick='openDeleteConfirm()' class='secondary outline'>Delete Account</button>
                        </div>
                        <p style='text-align:center;margin-top:1rem;font-size:0.9rem;'>Version {{ version }}</p>
                    </section>
                </section>
                <div id='toast' class='toast' style='display:none;position:fixed;bottom:1rem;left:50%;transform:translateX(-50%);background:#333;color:white;padding:0.5rem 1rem;border-radius:4px;z-index:1000;'></div>
                <div id='account-overlay'>
                    <button id='account-close' aria-label='Close'>âœ•</button>
                    <div id='account-actions'>
                        <button id='account-save'>Save</button>
                        <button id='account-cancel' class='secondary'>Cancel</button>
                    </div>
                    <img id='account-avatar' src='/static/logo.png' alt='Profile picture' style='width:8rem;height:8rem;border-radius:50%;margin-bottom:0.5rem;transition:transform 0.3s;'>
                    <label for='account-screen' style='display:block;margin:0 auto 0.5rem;width:90%;text-align:left;'>
                        <span style='display:block;margin-bottom:0.25rem;'>Screen name</span>
                        <input id='account-screen' type='text' style='width:100%;'>
                    </label>
                </div>
            </main>
        </body>
    </html>
